<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>AlexiaFlix</title>
    <link rel="icon" href="Web/Images/AlexiaFlix - Logo/AlexiaFlix - Logo 2.ico" type="image/x-icon">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Police Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* --- CONFIGURATION GÉNÉRALE --- */
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0c0c0c;
            color: #f1f1f1;
            overflow-x: hidden;
            padding-top: env(safe-area-inset-top);
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }

        .alexiaflix-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: #E50914;
        }

        /* --- ÉCRAN D'ACCUEIL --- */
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
            animation: blob 8s infinite ease-in-out;
        }
        .animation-delay-2000 { animation-delay: -2s; }
        .animation-delay-4000 { animation-delay: -4s; }


        /* --- EFFETS VISUELS & STYLES --- */
        .glass-effect {
            background: rgba(12, 12, 12, 0.8);
            backdrop-filter: blur(16px) saturate(120%);
            -webkit-backdrop-filter: blur(16px) saturate(120%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: background-color 0.3s ease;
        }

        .carousel::-webkit-scrollbar { height: 8px; }
        .carousel::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); border-radius: 10px; }
        .carousel::-webkit-scrollbar-thumb { background: rgba(229, 9, 20, 0.7); border-radius: 10px; }
        .carousel::-webkit-scrollbar-thumb:hover { background: #E50914; }

        .item-card {
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.3s ease;
            will-change: transform;
        }
        @media (hover: hover) {
            .item-card:hover {
                transform: scale(1.06) translateY(-8px);
                box-shadow: 0 15px 40px rgba(229, 9, 20, 0.5);
            }
        }
        .item-card:active {
            transform: scale(1.02) translateY(0);
            box-shadow: 0 8px 25px rgba(229, 9, 20, 0.4);
            transition-duration: 0.1s;
        }
        .item-card img { border-radius: 0.5rem; }

        .nav-tab {
            cursor: pointer; padding: 0.5rem 1rem; position: relative; transition: color 0.3s ease;
        }
        .nav-tab::after {
            content: ''; position: absolute; bottom: -2px; left: 50%; width: 0; height: 2px;
            background-color: #E50914; transition: all 0.3s ease; transform: translateX(-50%);
        }
        .nav-tab:hover { color: #fff; }
        .nav-tab.active { color: #E50914; font-weight: 600; }
        .nav-tab.active::after, .nav-tab:hover::after { width: 100%; }

        .vertical-nav-tab {
            position: relative;
            color: #9ca3af;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            padding: 1rem 0;
            display: flex;
            justify-content: center;
        }
        .vertical-nav-tab::after {
            content: ''; position: absolute; left: 0; top: 50%; height: 0; width: 4px;
            background-color: #E50914; transition: all 0.3s ease; transform: translateY(-50%);
            border-radius: 0 4px 4px 0;
        }
        .vertical-nav-tab:hover { color: #fff; }
        .vertical-nav-tab.active { color: #fff; }
        .vertical-nav-tab.active::after { height: 70%; }


        .hero-wrapper {
            position: relative;
            z-index: 1;
        }
        .hero-wrapper::before {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            width: 110%; height: 110%;
            background: radial-gradient(circle at center, var(--hero-tint-color, transparent) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            filter: blur(80px);
            opacity: 0.5;
            z-index: -1;
            transition: background 0.5s ease-in-out;
            will-change: background;
        }

        .hero-section {
            position: relative; display: flex; align-items: flex-end;
            border-radius: 0.75rem; overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .hero-background {
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-size: cover; background-position: center top;
            transition: transform 0.4s ease-out;
        }
        .hero-section:hover .hero-background { transform: scale(1.03); }
        
        .hero-background::after {
            content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 100%;
            background: linear-gradient(to top, #0c0c0c 15%, rgba(12, 12, 12, 0.7) 40%, transparent 70%);
        }
        
        .hero-content { position: relative; z-index: 3; }
        
        .action-button {
            display: inline-flex; align-items: center; justify-content: center;
            border-radius: 0.375rem; font-weight: 600;
            transform: scale(1); transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .action-button:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(0,0,0,0.3); }
        .action-button:active { transform: scale(0.98); }
        .play-button { background-color: #fff; color: #000; }
        .play-button:hover { background-color: rgba(255,255,255,0.9); }
        .info-button { background-color: rgba(109, 109, 110, 0.7); color: white; }
        .info-button:hover { background-color: rgba(109, 109, 110, 0.6); }

        /* --- MODALES AMÉLIORÉES --- */
        .modal-overlay {
            position: fixed; inset: 0; z-index: 60;
            display: flex; align-items: center; justify-content: center;
            background-color: rgba(0,0,0,0.8);
            padding: 1rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease-in-out;
        }
        .modal-overlay.visible {
            opacity: 1;
            pointer-events: auto;
        }

        #details-modal-content {
            background: rgba(20, 20, 20, 0.75);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.12);
            max-height: 90vh;
            box-shadow: 0 10px 50px rgba(0,0,0,0.5);
            transform: scale(0.95);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .modal-overlay.visible #details-modal-content {
            transform: scale(1);
        }
        
        #toast { transition: all 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55); }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-up { opacity: 0; animation: fadeInUp 0.8s ease forwards; }
        .hero-content > * { opacity: 0; animation: fadeInUp 0.8s ease forwards; }
        .hero-content h2 { animation-delay: 0.2s; }
        .hero-content p { animation-delay: 0.4s; }
        .hero-content div { animation-delay: 0.6s; }

        /* --- STYLES CAT-GPT --- */
        #cat-gpt-panel {
            background: rgba(20, 20, 20, 0.7);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -10px 0 30px rgba(0,0,0,0.5);
        }

        #chat-messages::-webkit-scrollbar, #chat-messages-mobile::-webkit-scrollbar { width: 6px; }
        #chat-messages::-webkit-scrollbar-track, #chat-messages-mobile::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
        #chat-messages::-webkit-scrollbar-thumb, #chat-messages-mobile::-webkit-scrollbar-thumb { background: #E50914; border-radius: 10px; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }

        .prompt-brick {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 0.75rem;
            padding: 0.75rem;
            text-align: left;
            font-size: 0.875rem;
            font-weight: 500;
            color: #f1f1f1;
            transition: all 0.2s ease-in-out;
        }
        .prompt-brick:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .message {
            max-width: 85%;
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        .user-message {
            background-color: #E50914;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        .bot-message {
            background-color: #333;
            color: #f1f1f1;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #888;
            margin: 0 2px;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

        /* --- Nouveaux styles pour les saisons dans la modale --- */
        .season-chips-container::-webkit-scrollbar { height: 4px; }
        .season-chips-container::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); }
        .season-chips-container::-webkit-scrollbar-thumb { background: rgba(229, 9, 20, 0.7); border-radius: 10px; }

        .season-chip {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background-color: rgba(255, 255, 255, 0.1);
            color: #e5e7eb; /* text-gray-200 */
            font-weight: 600;
            white-space: nowrap;
            transition: all 0.2s ease-in-out;
            border: 1px solid transparent;
            cursor: pointer;
        }
        .season-chip:hover {
            background-color: rgba(255, 255, 255, 0.2);
            color: #fff;
        }
        .season-chip.active {
            background-color: #E50914;
            color: #fff;
            box-shadow: 0 0 15px rgba(229, 9, 20, 0.5);
        }

        @keyframes fadeInList {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .episodes-list {
            animation: fadeInList 0.4s ease;
        }
    </style>
</head>
<body class="bg-black text-white">
    <audio id="launch-sound" src="Audios/Musiques/Launch.mp3" preload="auto"></audio>
    <div id="fullscreen-prompt" class="fixed inset-0 bg-black z-[100] flex items-center justify-center transition-opacity duration-500 ease-in-out cursor-pointer overflow-hidden">
        <!-- Fond animé flou -->
        <div class="absolute w-full h-full blur-3xl opacity-40">
            <div class="absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-screen animate-blob"></div>
            <div class="absolute top-0 -right-4 w-72 h-72 bg-red-500 rounded-full mix-blend-screen animate-blob animation-delay-2000"></div>
            <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-screen animate-blob animation-delay-4000"></div>
        </div>
    
        <!-- Contenu -->
        <div class="relative text-center">
            <img src="Web/Images/AlexiaFlix - Logo/AlexiaFlix - Logo 2.png" alt="AlexiaFlix Logo" class="h-12 sm:h-16 mx-auto mb-6">
            <p class="text-lg sm:text-xl text-white/80 animate-pulse">Appuyez n'importe où</p>
        </div>
    </div>

    <div class="sm:flex">
        <!-- NOUVELLE NAVIGATION VERTICALE (PC) -->
        <nav class="fixed left-0 top-0 h-screen w-24 z-50 bg-black/50 backdrop-blur-lg border-r border-gray-800/50 hidden sm:flex flex-col items-center py-8 gap-8 flex-shrink-0">
            <img src="Web/Images/AlexiaFlix - Logo/AlexiaFlix - Logo 2.png" alt="AlexiaFlix Logo" class="h-8 transition-transform duration-300 hover:scale-110 cursor-pointer" onclick="window.location.reload()">
            <div class="flex flex-col items-center gap-4 w-full">
                <span id="tab-series" class="vertical-nav-tab active" onclick="switchTab('series')" title="Séries">
                    <i class="fas fa-tv text-2xl"></i>
                </span>
                <span id="tab-bonus" class="vertical-nav-tab" onclick="switchTab('bonus')" title="AlexiaFlix Originals">
                    <i class="fas fa-star text-2xl"></i>
                </span>
            </div>
        </nav>
        
        <div class="flex-1 min-w-0 sm:ml-24">
            <header class="z-40 p-4 hidden sm:flex justify-center items-center sm:sticky top-0 bg-black/20 backdrop-blur-md">
                <div class="relative w-full max-w-lg" id="search-container">
                    <i class="fas fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 z-10"></i>
                    <input type="text" id="search-input" placeholder="Rechercher un film, une série, un épisode..." class="w-full bg-black bg-opacity-40 border border-gray-700 rounded-full py-2 pl-12 pr-5 text-white placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-red-600 transition-all">
                </div>
            </header>

            <main class="pb-40 sm:pb-4 container mx-auto px-4">
                <section id="series-section" class="section-pane"></section>
                <section id="bonus-section" class="section-pane hidden"></section>
                <!-- NOUVEAU : Section Cat-GPT pour mobile -->
                <section id="cat-gpt-section" class="section-pane hidden sm:hidden pt-20 pb-28 px-0 flex flex-col h-screen">
                    <div id="chat-starter-mobile" class="flex-1 p-4 flex flex-col items-center justify-center text-center">
                        <img src="Web/Images/AlexiaFlix - Logo/CatGPT.jpg" alt="Cat-GPT Illustration" class="w-32 h-32 rounded-full mb-6 object-cover animate-fade-in" style="border: 2px solid rgba(255,255,255,0.2);">
                        <h3 class="text-xl font-semibold mb-6 animate-fade-in" style="animation-delay: 0.2s;">Prêt à discuter séries ?</h3>
                        <div class="grid grid-cols-2 gap-3 w-full max-w-sm animate-fade-in" style="animation-delay: 0.4s;">
                            <button class="prompt-brick" onclick="startChatWithPrompt('Comment Daryl Dixon est-il arrivé en France ?', true)">Comment Daryl Dixon est...</button>
                            <button class="prompt-brick" onclick="startChatWithPrompt('Quelle est la meilleure saison d\'American Horror Story ?', true)">Meilleure saison d'AHS ?</button>
                            <button class="prompt-brick" onclick="startChatWithPrompt('Explique-moi la fin de Breaking Bad.', true)">Explique-moi la fin de...</button>
                            <button class="prompt-brick" onclick="startChatWithPrompt('Rick Grimes va-t-il revenir ?', true)">Rick Grimes va-t-il...</button>
                        </div>
                    </div>
                    <div id="chat-messages-mobile" class="hidden flex-1 p-4 overflow-y-auto flex flex-col space-y-2"></div>
                    <div class="p-4 border-t border-gray-700/50 bg-opacity-50 bg-black">
                        <div class="relative flex items-center">
                            <input type="text" id="chat-input-mobile" class="w-full bg-gray-800/50 border border-gray-600/50 rounded-full py-3 pl-5 pr-14 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600" placeholder="Envoyer un message...">
                            <button id="send-chat-button-mobile" class="absolute right-2 top-1/2 -translate-y-1/2 bg-red-600 hover:bg-red-700 rounded-full w-10 h-10 flex items-center justify-center transition-transform duration-200 active:scale-90">
                                <i class="fas fa-paper-plane text-white"></i>
                            </button>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- NOUVEAU : Panneau Cat-GPT pour ordinateur (ancien aside) -->
        <aside id="cat-gpt-panel" class="hidden sm:flex flex-col flex-shrink-0 w-full max-w-[420px] h-screen sticky top-0">
             <div class="flex items-center justify-between p-4 border-b border-gray-700/50">
                <h2 class="text-xl font-bold alexiaflix-title">Cat-GPT 🐈</h2>
            </div>
            <div id="chat-starter" class="flex-1 p-4 flex flex-col items-center justify-center text-center">
                <img src="Web/Images/AlexiaFlix - Logo/CatGPT.jpg" alt="Cat-GPT Illustration" class="w-32 h-32 rounded-full mb-6 object-cover animate-fade-in" style="border: 2px solid rgba(255,255,255,0.2);">
                <h3 class="text-xl font-semibold mb-6 animate-fade-in" style="animation-delay: 0.2s;">Prêt à discuter séries ?</h3>
                <div class="grid grid-cols-2 gap-3 w-full max-w-sm animate-fade-in" style="animation-delay: 0.4s;">
                     <button class="prompt-brick" onclick="startChatWithPrompt('Comment Daryl Dixon est-il arrivé en France ?')">Comment Daryl Dixon est...</button>
                    <button class="prompt-brick" onclick="startChatWithPrompt('Quelle est la meilleure saison d\'American Horror Story ?')">Meilleure saison d'AHS ?</button>
                    <button class="prompt-brick" onclick="startChatWithPrompt('Explique-moi la fin de Breaking Bad.')">Explique-moi la fin de...</button>
                    <button class="prompt-brick" onclick="startChatWithPrompt('Rick Grimes va-t-il revenir ?')">Rick Grimes va-t-il...</button>
                </div>
            </div>
            <div id="chat-messages" class="hidden flex-1 p-4 overflow-y-auto flex flex-col space-y-2"></div>
            <div class="p-4 border-t border-gray-700/50 animate-fade-in">
                <div class="relative flex items-center">
                    <input type="text" id="chat-input" class="w-full bg-gray-800/50 border border-gray-600/50 rounded-full py-3 pl-5 pr-14 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-600" placeholder="Envoyer un message...">
                    <button id="send-chat-button" class="absolute right-2 top-1/2 -translate-y-1/2 bg-red-600 hover:bg-red-700 rounded-full w-10 h-10 flex items-center justify-center transition-transform duration-200 active:scale-90">
                        <i class="fas fa-paper-plane text-white"></i>
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <!-- INTERFACE MOBILE -->
    <div class="sm:hidden">
        <header class="fixed top-0 left-0 right-0 z-50 flex items-center justify-center glass-effect border-b-0" style="padding: 1rem; padding-top: calc(1rem + env(safe-area-inset-top));">
            <h1 class="alexiaflix-title text-2xl">AlexiaFlix</h1>
        </header>

        <div class="fixed bottom-4 left-4 right-4 z-50 glass-effect rounded-2xl shadow-lg p-2" style="padding-bottom: calc(0.5rem + env(safe-area-inset-bottom)); border-width: 1px;">
            <nav class="flex items-center justify-around text-gray-300 font-medium text-sm mb-2">
                <span id="tab-series-mobile" class="nav-tab active" onclick="switchTab('series')">Séries</span>
                <span id="tab-bonus-mobile" class="nav-tab" onclick="switchTab('bonus')">Originals</span>
            </nav>
            <div class="flex items-center gap-2">
                <div class="relative flex-grow" id="search-container-mobile">
                    <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    <input type="text" id="search-input-mobile" placeholder="Rechercher..." class="w-full bg-black bg-opacity-20 border border-gray-600 rounded-full py-2 pl-10 pr-4 text-white placeholder-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-red-600 transition-all">
                </div>
                <button class="flex-shrink-0 w-10 h-10 flex items-center justify-center rounded-full bg-white/10" onclick="switchTab('cat-gpt')">
                     <img src="Web/Images/AlexiaFlix - Logo/CatGPT.jpg" alt="Cat-GPT" class="h-8 w-8 rounded-full">
                </button>
            </div>
        </div>
    </div>

    <div id="details-modal" class="modal-overlay">
        <div id="details-modal-content" class="rounded-lg w-full max-w-4xl overflow-y-auto relative">
             <button onclick="closeDetailsModal()" class="absolute top-3 right-3 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-red-600 transition-all duration-300 hover:scale-110 z-20">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </button>
            <div id="details-hero" class="hero-section h-[40vh] sm:h-[50vh] md:h-[60vh]">
                <div id="modal-bg" class="hero-background"></div>
                <div class="hero-content p-4 sm:p-8">
                    <h2 id="modal-title" class="text-3xl sm:text-5xl font-bold mb-4"></h2>
                    <div id="modal-actions" class="flex items-center gap-4"></div>
                </div>
            </div>
            <div class="p-4 sm:p-8">
                 <p id="modal-description" class="text-gray-300 mb-6 text-sm sm:text-base"></p>
                 <div id="seasons-container"></div>
            </div>
        </div>
    </div>
    
    <div id="image-modal" class="modal-overlay">
        <img id="image-viewer" src="" alt="Image en grand" class="max-w-full max-h-full object-contain rounded-lg transition-transform duration-300">
        <button onclick="closeImageModal()" class="absolute top-4 right-4 text-white hover:text-red-600 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
        </button>
    </div>
    
    <div id="toast" class="fixed bottom-5 right-5 bg-red-700 text-white py-3 px-5 rounded-lg shadow-2xl z-[80] hidden opacity-0 translate-y-4 font-semibold"></div>

    <script>
        // --- BASE DE DONNÉES ---
        const seriesData = [
            {
                id: 'ahs',
                title: 'American Horror Story',
                abbreviation: 'ahs',
                poster: 'Web/Images/AHS/AHS - Poster.jpeg',
                landscape: 'Web/Images/AHS/AHS - Landscape.jpeg',
                description: 'Une série d\'anthologie où chaque saison explore une histoire d\'horreur différente, avec des personnages et des lieux uniques mais un casting récurrent.',
                tintColor: '#990000', // Couleur thématique pour AHS
                seasons: [
                     { season: 1, episodes: [
                        { number: 1, title: "La Maison de l'horreur", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETSM_6vATalOuuvYlhQIaGkBTxPBrarbcG3GfqP1R0WTVA?e=YXa0D4" },
                        { number: 2, title: "Intrus", video: "https://1drv.ms/v/c/BA618C3B1504032B/EepmzbJFd2lIlFJ4whFlWswB7_duZ-PG1K4AcRVHvWg66w?e=K5pmG0" },
                        { number: 3, title: "La Maison de l'horreur", video: "https://1drv.ms/v/c/BA618C3B1504032B/EWoB8yVw3LJFlk_51W7qJbQBsP4kWn7uDCca_Gs2a4LllQ?e=3i7IeN" },
                        { number: 4, title: "Halloween (partie 1)", video: "https://1drv.ms/v/c/BA618C3B1504032B/EV0DK4RpGklPlKFFKup550AB3Z7wyA16072ZOlShpMzEXw?e=Vzkk9E" },
                        { number: 5, title: "Halloween (partie 2)", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESbIXMvyqbZAjLu70WonbBoBdaMEJ4RtS6TiZ1kx9NcKrA?e=VkbFeF" },
                        { number: 6, title: "Le cochon tueur", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXs0bduUusJLr74GK50LQAQBIblcYZETOuHs9xJn-DBeyw?e=NsasjT" },
                        { number: 7, title: "Portes ouvertes", video: "https://1drv.ms/v/c/BA618C3B1504032B/EV3dcGQ_IjdDicsmvyP86BMBlu4rcpvGPkZPn6M0zikdmw?e=2sHxEd" },
                        { number: 8, title: "L'homme en latex", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERbDohc3HjZGpsxarbyvG8wBRDUzm69f0Cq8V1x4-orGwg?e=CtGkIb" },
                        { number: 9, title: "Le Dahlia noir", video: "https://1drv.ms/v/c/BA618C3B1504032B/EezVwIlHHVNMrna0OWGJJ6gB4snK9lP0pJRUDmis-YI4oQ?e=RXE9Lq" },
                        { number: 10, title: "L'heure des comptes", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXwi50MWNTxJjCnGnsZE154B5oDobNFcTuR2zqPs5Q57xA?e=cDsltn" },
                        { number: 11, title: "La naissance", video: "https://1drv.ms/v/c/BA618C3B1504032B/EbnYFs_jU_BKgNKIjY48GJYBDxBXuBL_6fpyBgAHFtBn6Q?e=I8ji5U" },
                        { number: 12, title: "Trois ans plus tard", video: "https://1drv.ms/v/c/BA618C3B1504032B/ES24w1fA7ZNEthDdAKWgXwsB45Ei2mgn5DYUklBureEHCA?e=RvmWNj" }
                    ]},
                    { season: 2, episodes: [
                        { number: 1, title: "Bienvenue à Briarcliff", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERwY1DubtbtAmheI1hbIIgcBqPX6two1-bVshWuHfoLr6w?e=olWl2z" },
                        { number: 2, title: "Le projet Diablotin", video: "https://1drv.ms/v/c/BA618C3B1504032B/EeixcKBrCp1Hgqb5Rjnl0-IBVW74ZpJsRuzzkX10kPlUbg?e=ezKb9H" },
                        { number: 3, title: "La tempête", video: "https://1drv.ms/v/c/BA618C3B1504032B/EcdWwxsMSDtKhWnpT5CUTeoBhy5z5DE5aT29SOMHuIvGVg?e=1vCpY5" },
                        { number: 4, title: "Je suis Anne Frank (Partie 1)", video: "https://1drv.ms/v/c/BA618C3B1504032B/EW3MaQ44S_ZLg8UFt45_UvMBCiSUazN_gD_BoG0ObpLOVA?e=gpsdqa" },
                        { number: 5, title: "Je suis Anne Frank (Partie 2)", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESwDvQp7lUtMhrBjmE83HVUB7j9SzljV27K87G8PjYJfYA?e=eacRo0" },
                        { number: 6, title: "Les origines de la monstruosité", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZedW8Lxd4ZNne11iu3XzcoB4XB-sVwgyj1I_IWWfYqmRg?e=an6put" },
                        { number: 7, title: "L'ange noir", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERrsdi7n4-xGlI0DzLiWi3EB6XtP3cZtkxOfOypJFpGYBg?e=uUyOmx" },
                        { number: 8, title: "Une nuit sans sommeil", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYwcQZnwMxJOoihZ8ICi3TwBlIOgH6u2Xv-0CaXBT-bKzw?e=gbqzjY" },
                        { number: 9, title: "Le porte-manteau", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERgolPNYXe5AlNXyHpm3nC0BCcj619Lh0s8qpMnGeE89YA?e=7ksKk8" },
                        { number: 10, title: "Le déclic", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYe7msnv1y9GgdRPE9upOU4BknGXnHA5UxLuEVzDkTwl_Q?e=9YZdrY" },
                        { number: 11, title: "Le lait de la vengeance", video: "https://1drv.ms/v/c/BA618C3B1504032B/EaOPX6w71ElPqJYK6li_SokBGkDj3IshHiTVBzaDkRCDxw?e=L7n8GA" },
                        { number: 12, title: "La fin des temps", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdhM44-M0wZEk5XxdvVz2kEBEaBAylRha-q04lPEy_OCtA?e=fHQqSk" },
                        { number: 13, title: "Le cyclone", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUUS89DyS3hNqmbla3Zl8toB5Az6i0D3VSY973isWEv9lg?e=qsCHPX" }
                    ]},
                     { season: 3, episodes: [
                        { number: 1, title: "Les descendantes de Salem", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVqZVPGslfBFsQr1tpcmdQcBpnR0zy0m7WzcDA1PABDz5Q?e=DPrqJl" },
                        { number: 2, title: "Résurrection", video: "https://1drv.ms/v/c/BA618C3B1504032B/ER7_AfL5kqBEj1SVY3AEtn8BFXntJgn8luCn6qO0sk833Q?e=OI1FTJ" },
                        { number: 3, title: "Les doublures", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZleWwfYd35Gj84YeG4UD8UBzRO1XfYRs3e4mF808UTp4A?e=JBKkOI" },
                        { number: 4, title: "Farces et attrapes", video: "https://1drv.ms/v/c/BA618C3B1504032B/EeukBr0CGChOuuSvIhAdOqoBFT8l2bHekyCgooTtFzdikw?e=pl771B" },
                        { number: 5, title: "Brûle, sorcière, brûle !", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUJiUq6m_tRKvXM5H_CITRoBGTaglor_oRbUC2ARe599Tw?e=IgERIU" },
                        { number: 6, title: "Le coucou", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUzlM4SrJVxHrOZ3hZMBuPcB0_4oiqaHXt8yQribmf7W2Q?e=Gfbtb4" },
                        { number: 7, title: "Le pacte", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESo-eYMQYWJKrB7hJYAOzjYBzvfw58uicB0Bt-oHCuNZuw?e=5JEqAX" },
                        { number: 8, title: "Le conseil des sorcières", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdEs4d2UEQVIqkKGshvuxdIBW4dwVEEtspFgMCKYr_vZnw?e=FVTTJq" },
                        { number: 9, title: "La reine de la promo", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ebtu6RwSRPxOlJCxq5SEsvsB9jyKmCThCbwWcQxrsvHU8w?e=oVm0XE" },
                        { number: 10, title: "Les délices de la magie", video: "https://1drv.ms/v/c/BA618C3B1504032B/ES6M-43zPBdEpcgguc5eHaoBwjWevBGMsAWnylrA41qaog?e=N8cPyv" },
                        { number: 11, title: "La prison des âmes", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYnq9kzQlbxIhuhZgxSRmNYB_6r1Spx-zJQeOoOaT-gtWQ?e=yZ2fNB" },
                        { number: 12, title: "Les sept sceaux de la sorcellerie", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ea2xM_zLqcdPsiWAunwqj-cBTO7HpMUyBTbfds7T3Enl6A?e=z5kM36" },
                        { number: 13, title: "La nouvelle Suprême", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQscvFsa9ytEkH5pzIfyNyMBD2VKmpHx25pNhP5fitpaDg?e=NyIKmf" }
                    ]},
                     { season: 4, episodes: [
                        { number: 1, title: "Les monstres sont parmi nous", video: "https://1drv.ms/v/c/BA618C3B1504032B/Eabb1jS2y6BIsCWiWWyEFYYBqMny1PnrPXbIVrk_pZQX9A?e=2lBjja" },
                        { number: 2, title: "Massacres et matinées", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ef8BmnUSH0JMhWsNlq1fOGQBw4jxu2qhmMJFI9bo2oD3-A?e=zNc0yg" },
                        { number: 3, title: "Edward Mordrake (Partie 1)", video: "https://1drv.ms/v/c/BA618C3B1504032B/Eckdo8Y8TINBqm3nA1euyTsBKQ1Rkl1uGryDN0Iktz1IAw?e=cH8nFr" },
                        { number: 4, title: "Edward Mordrake (Partie 2)", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETgMPcVJfYVOo-2y3FQKfhUBp9Y8ysXD3u057j5IWWdttg?e=eMbirB" },
                        { number: 5, title: "Le Passage de Vénus", video: "https://1drv.ms/v/c/BA618C3B1504032B/Efn46oXtkmJIpwO2fy3yHDYBP94o9WPEc3OS-3adcdNmBA?e=S13GDc" },
                        { number: 6, title: "Le grand numéro", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYPmoi1y8cNDoD168klxGF4BaY6swRefdcW28IiTOrwk3A?e=3EWPl5" },
                        { number: 7, title: "Test de force", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ea0byDKwwgZFt4-ygzGVy3AB6g8oz1kzWrxw1wNvwlUJwA?e=sdzrPi" },
                        { number: 8, title: "Bains de sang", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESGxk1jczKFEo3hxPzi4OwYBPCBtFx5pZfYMgNx-7nU50w?e=YU8xzI" },
                        { number: 9, title: "Le prix de la mort", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXunzXGruChIli3k6qHgqYUBwudOS2sQaEhq6onJf1jpbA?e=LeSFhg" },
                        { number: 10, title: "Les sœurs siamoises", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETSFJyTmahhEoQUBbjriHbUBELBaWb58aBtczqAhX6B8XA?e=XdbSse" },
                        { number: 11, title: "Illusion et magie", video: "https://1drv.ms/v/c/BA618C3B1504032B/EcWmHinfoLRGi5EJMJiwE6gBGF_zCxNxAY83WLPiNvYuZw?e=1j1Vbu" },
                        { number: 12, title: "Le dernier spectacle", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERywgUwXSz5KjS_ZhHHOEIABtxesHbjmBYdGRviJcp8xmw?e=tkaFE0" },
                        { number: 13, title: "Le rideau tombe", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESns0r1XrnZNtZk8PrjLu1oBN8BCQORQa6OQHJgNa5ENAw?e=pUJFbe" }
                    ]},
                     { season: 5, episodes: [
                        { number: 1, title: "L'Hôtel Cortez", video: "https://1drv.ms/v/c/BA618C3B1504032B/EcnNCRqUYW5HstsHmhfsMeABuGPyXOGesO8tP0tzYzd_4Q?e=LJGQ6d" },
                        { number: 2, title: "Chutes and Ladders", video: "https://1drv.ms/v/c/BA618C3B1504032B/EX3L5k1Ng8BHkrx5pDt1SzYBdy8-ayyLlCbym4rLiol3rg?e=WCYgiy" },
                        { number: 3, title: "Mommy", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERmerovuukNHmMxi7vwHEdkBp-O5KY3ZLbtMuuCupYVJAw?e=FSJobe" },
                        { number: 4, title: "Devil's Night", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERH7KdVP7IpLpwulu30XBP0BnY2qw45LqkyyVytomCUx5A?e=3B0F6u" },
                        { number: 5, title: "Room Service", video: "https://1drv.ms/v/c/BA618C3B1504032B/EWcsNP1TyC9BoUt1fHe6ihcBJrZT4kCIYW4Vh_MIh4RfdQ?e=s5FfaE" },
                        { number: 6, title: "Room 33", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETik0oSFnOtPkfd30plmaUABv8mMEKA3qIxWmTkWCsACJg?e=mC2pUb" },
                        { number: 7, title: "Flicker", video: "https://1drv.ms/v/c/BA618C3B1504032B/EbdhcIn1bZFOk_iMQZxmVhABUQhCxZ7RjGzsrwZ4W2-Sww?e=7kvkf4" },
                        { number: 8, title: "The Ten Commandments Killer", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETxAl5YnF29IvUuv9VcFt38BrYUJYEtlFWGlXfmLY5d8Tg?e=fWdwI5" },
                        { number: 9, title: "She Wants Revenge", video: "https://1drv.ms/v/c/BA618C3B1504032B/Eerclr5Hl2NPttn8QzDc7UsBEWqOZXis-dAlf5PWwHA07w?e=t6BpnC" },
                        { number: 10, title: "She Gets Revenge", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ_4zk-cZUZPmolmSDVyuqcBw0mIyvU63P8HeVxqkp9OeQ?e=gMvBde" },
                        { number: 11, title: "Battle Royale", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYED1hd2sodPmqF_owVKYkcBr2pKAmur3OE7lWstceefnw?e=ifsqJe" },
                        { number: 12, title: "Be Our Guest", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVik-xqD9JxDjbXTE2sVEawB2MVAh0K-gXfejLaglQV8AQ?e=LycqJf" }
                     ]},
                     { season: 6, episodes: [
                        { number: 1, title: "Chapter 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/ET2JS6jt-QxGlyvr7l688DIBriWkUgt4Xlx4OdcoXt5JNA?e=Lybrh6" },
                        { number: 2, title: "Chapter 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/EX-V45OkZ61IpQwlPVo2fI8BeEjzmaX00lRjqLbHP6cJ6g?e=OfOAOz" },
                        { number: 3, title: "Chapter 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ebj-uEkVw6FEkcjDWzsnFJYBA5EM17PTNXm0Mg6D0j7dmA?e=uaWeyI" },
                        { number: 4, title: "Chapter 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/ES4x0hMYEtRAjYZpyku3CgwBnnzTtqQ9dADekNXg2DvJ9w?e=T8AQqA" },
                        { number: 5, title: "Chapter 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZHJrKVD4cJHk3MbhR7tNmQBB6JB936LB3vDiSg5MxwaIg?e=NsBMaR" },
                        { number: 6, title: "Chapter 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUscdXJYWVNFpxItQUkGGYQBhyIkKdXQMAXiHhdwjNywmg?e=rrLLB5" },
                        { number: 7, title: "Chapter 7", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVqmNqlVWBFHr5SAbwhXYtABbzd57dCJSy4xhZH_0ozIpw?e=ppyfUe" },
                        { number: 8, title: "Chapter 8", video: "https://1drv.ms/v/c/BA618C3B1504032B/EcociC8HsixJnzPGkcN1FtoBun8T9E2bzUn_RNvmoc1sQA?e=FagZd5" },
                        { number: 9, title: "Chapter 9", video: "https://1drv.ms/v/c/BA618C3B1504032B/EX7XcJ-mC2pFt-UAQZFQY2QBIiauqOSEblMv5W3BcSS0PA?e=wGpJ9b" },
                        { number: 10, title: "Chapter 10", video: "https://1drv.ms/v/c/BA618C3B1504032B/EU0b-KeikMRNowUm9WRWmhMBHqqWM3h6hwI5MHUJWcIOnQ?e=4C64Zc" }
                     ]},
                     { season: 7, episodes: [
                        { number: 1, title: "Election Night", video: "https://1drv.ms/v/c/BA618C3B1504032B/EavqkU9fhVpHp2SXX4ogpFMB8CbVRiDQRDJkR7s-nmre0g?e=5cpSki" },
                        { number: 2, title: "Don't Be Afraid of the Dark", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ec6EYQOsnBBIvQ2CHOFyJtwBLTWfBTAxMD3KArl5YlkfFA?e=LG6ea2" },
                        { number: 3, title: "Neighbors from Hell", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETAQypiL7ZlNp9Pre0mlGuEB3QnvHASPNbP1kotvO6ZBIg?e=nA3vLP" },
                        { number: 4, title: "11/9", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdA4h_2aIzxPrQ_ZKtcuj18B4I5Zmzd4sTkRzwDFMpmcww?e=7DN6fW" },
                        { number: 5, title: "Holes", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfR4iFOFVBpHnAZJU_-qkPQBdHS1WHFJbYZRxudSA-UBWw?e=nicgFk" },
                        { number: 6, title: "Mid-Western Assassin", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ_WPB7HDklHggNg9zHlQWABVhdd03jsKxZ1Y0QInMHTIg?e=oM18km" },
                        { number: 7, title: "Valerie Solanas Died for Your Sins: Scumbag", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYX_vDVEKaxInTNPX_6F078B9wnTbzPp6wZUqQ_dNF2CxA?e=ji1rAR" },
                        { number: 8, title: "Winter of Our Discontent", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfT1LW_S4WRLk1axZrcZwHwB5lOXpxgLv6__N26dGA-V2A?e=MhrBJT" },
                        { number: 9, title: "Drink the Kool-Aid", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUkUns2-M55OqOY_09Gu2R4BJy4Jc_lydJeHYKhZMXWjWw?e=DYjdRe" },
                        { number: 10, title: "Charles (Manson) in Charge", video: "https://1drv.ms/v/c/BA618C3B1504032B/Eef2e4TkUitKkHPExcN6U3cBTkCYLFwV_d5T3Yw8bek4NA?e=4HiVIp" },
                        { number: 11, title: "Great Again", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERC_91dzC49DpZtxz4cThZ0Bg_jSzYdvkoTXd8-LU_gH6g?e=lYZ1mJ" }
                     ]},
                     { season: 8, episodes: [
                        { number: 1, title: "The End", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERxOyr5bW8RHodq6LmzL4dkBvQBWnE6o4OCDxzYI3_B3ag?e=aFXmdA" },
                        { number: 2, title: "The Morning After", video: "https://1drv.ms/v/c/BA618C3B1504032B/Eeu2byOZvtNLl7BFX_in8zcBJGW_97jJyrjAXG2QmL6z3g?e=7KY9CU" },
                        { number: 3, title: "Forbidden Fruit", video: "https://1drv.ms/v/c/BA618C3B1504032B/Eb5KcZ4U_wlMvFnATOH2j3oB9Rx6oVY5eIWH4TsTQTyn1w?e=fVz6ZY" },
                        { number: 4, title: "Could It Be... Satan?", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ebfrt-JjPzhBq6G-QPnXPz8BFtazzCcxw_9hrhlp7TaAgQ?e=H3BYfa" },
                        { number: 5, title: "Boy Wonder", video: "https://1drv.ms/v/c/BA618C3B1504032B/EewqDr8VkDZOpxDiOc_Rdb4BoBUdpEscCS_FxcJvo4wy2A?e=L37k6W" },
                        { number: 6, title: "Return to Murder House", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQHGFsu8WtpFnPwyWYMYxSQBmimKriI8VszSKz9kMfS4pw?e=tUtPyH" },
                        { number: 7, title: "Traitor", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ2NDIptVcJLo27w_TeKzoEBx-CnB-SR9RodJCd2MPpd2Q?e=kuvXDz" },
                        { number: 8, title: "Sojourn", video: "https://1drv.ms/v/c/BA618C3B1504032B/ER19Mps9N6BIm1qZ3SDSm6wBwHiwFPVCM8jGAt79T-kXCw?e=ZbC1Nl" },
                        { number: 9, title: "Fire and Reign", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ3GMc6r4mZAsJ4hcNcWWuwBL1VFoy6NfsAjV2dKhOQkxg?e=p3hy4m" },
                        { number: 10, title: "Apocalypse Then", video: "https://1drv.ms/v/c/BA618C3B1504032B/ES9pxQaoK8REuxLfnAMZKrEBzZ_csz6v3Ba7TGuXS-aySg?e=SPmgFH" }
                     ]},
                     { season: 9, episodes: [
                        { number: 1, title: "Camp Redwood", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ec_MWBO5s71HsMErFE1derkBeleOjwcgKw99TJ-bR4XvgQ?e=wTb8vu" },
                        { number: 2, title: "Mr. Jingles", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfDuSPpu4J5MrIxdqIA_qZkBwOvUlHegsiOFFzGS8ybCPA?e=4YhJBZ" },
                        { number: 3, title: "Slashdance", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ee568ZAqUztOuPMU0JuwbzwBk1mI-69o6d1YQeYja6KgYA?e=Jqzeoc" },
                        { number: 4, title: "True Killers", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESf6bv7Q449BhVERplorpO4BEKGymzm6QBkV2UcMGMKHiQ?e=YOq4XZ" },
                        { number: 5, title: "Red Dawn", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQzpxcdkcd5Jq6vmYWAUDokB4yi3cl1-zAclR6O6UdzfwA?e=BUlgYu" },
                        { number: 6, title: "Episode 100", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ede79StjzupGkxrXmfsSSqoBucOMfQlzZb9HNyWCa9aOnw?e=OIoxtS" },
                        { number: 7, title: "The Lady in White", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdmWZxOUqvhCm7oWXuqj_YEBFPKNEQnhy3x_2D629RSlqQ?e=sbHykz" },
                        { number: 8, title: "Rest in Pieces", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQlzfjD2HmJMq5QM3FAA9FcB6junGH1mY5K_T8Er71rBGg?e=Tbb8TI" },
                        { number: 9, title: "Final Girl", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQtZ9rSla0ZMoGwPiFAz8rkBhy8WqGKZd8HCRgMEOXk5qA?e=qbauGT" }
                     ]},
                     { season: 10, episodes: [
                        { number: 1, title: "Cape Fear", video: "https://1drv.ms/v/c/BA618C3B1504032B/EY2A1yrEGjxOqtM3mU9QjwcBfkfUhF7ai0ZzntTEftXs1g?e=oVANVf" },
                        { number: 2, title: "Pale", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYFNtq11FBpIkBXDcqddGD4B1DWZJr4lSeC5o-74lOOegg?e=uAnNSH" },
                        { number: 3, title: "Thirst", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUnJql3wHjpDgkSS4yrZ918B8vzvyBbYIQUlKGtW04IRcg?e=etDiT3" },
                        { number: 4, title: "Blood Buffet", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZLFqZx-1RtDg4wWgxxJHDABFWRgOuUvKTjwsyaqHcCTYw?e=euWL6I" },
                        { number: 5, title: "Gaslight", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ0d64mcEOtBh---cdKax8sBrGQTxYg4v1g5LCl0AmuU9w?e=eA35T2" },
                        { number: 6, title: "Winter Kills", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYatwzQWOhpGtBiiLd5c0vkB7Wa-nL85rqaieWXRHAHecQ?e=y8033Y" },
                        { number: 7, title: "Take Me to Your Leader", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYMHPPX3UH5LidZhKpGJUGkBeAFUSd2IVdrVK53w3za5Dg?e=qMIZ22" },
                        { number: 8, title: "Inside", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVaFTwxmptJBhoYtDmb5UFYBdC--h8UBTuHWH8p6x8x67Q?e=dGXcYT" },
                        { number: 9, title: "Blue Moon", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVpcnzHj4TNLjCVPu1O_2ZABUfRdZ4FLml6Jx-PdKbOQ-w?e=PeiQwz" },
                        { number: 10, "title": "The Future Perfect", "video": "https://1drv.ms/v/c/BA618C3B1504032B/EdK3JEP6ukhDvL5NLEIS0bgBVkw0y_rUPOARRwxQl72-sw?e=7q72VY" }
                     ]},
                     { season: 11, episodes: [
                        { number: 1, title: "Something's Coming", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYbr7Og5-o9KpxscoNro8lEBe8F_Y4t7zl9JoDoRfCbrrg?e=MbPypo" },
                        { number: 2, title: "Thank You for Your Service", video: "https://1drv.ms/v/c/BA618C3B1504032B/ESmWrEHxfzRMlQSYD_4q6cwBt-BW6cmUbUj-jdDLdwtSVg?e=phmavE" },
                        { number: 3, title: "Smoke Signals", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXNMpFjHLCNMjkkabH8QyT4BW-G_Q2ieDt_1wEOyp-LSxg?e=yfjnBu" },
                        { number: 4, title: "Black Out", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdWlbabEYkVKshVpFMEfw9oBPlq7weM-aiZJrr9OQQeOnw?e=YfCIgr" },
                        { number: 5, title: "Bad Fortune", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ee_XQmtxbwhFtkwPqUFwR7QBwd3hroQeZeC9xIc3fC46rg?e=rAGUWq" },
                        { number: 6, title: "The Body", video: "https://1drv.ms/v/c/BA618C3B1504032B/EeCDtwNujZNOiqVz-tGEJQ4ByF8LqisFwjyFGBI1UuwjlA?e=1U0CBE" },
                        { number: 7, title: "The Sentinel", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXTuDUJuvRxNoW-3goEOEvABividOHdyQO6yLt6kuMzqSA?e=77h6UT" },
                        { number: 8, title: "Fire Island", video: "https://1drv.ms/v/c/BA618C3B1504032B/ER5-qBKwEbBKilW5bwKBv5kB3sgulY6bgOhhWQot92QT7w?e=TsdjpA" },
                        { number: 9, title: "Requiem 1981/1987 Part One", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdUFr5wURWRPrFv0e5loDeoBf5ZbJCF77uKvqlpHD7pKQQ?e=5sRNYy" },
                        { number: 10, title: "Requiem 1981/1987 Part Two", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfQxPPk0FYBFqUoDHqOlsi4BVMle9sRahkIhuW4OALYFQw?e=43Ng85" }
                     ]},
                     { season: 12, episodes: [
                        { number: 1, title: "Multiply Thy Pain", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXkaBGj2hnVGoCeKdQ4TplkBnyZDZc1Q4sXyDIFh3cbpNA?e=naIeiu" },
                        { number: 2, title: "Rockabye", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUA-QYvsuPFHtJNMaRxoifMBIWotijjopRqOr65Fksz75A?e=M8ksSh" },
                        { number: 3, title: "When the Bough Breaks", video: "https://1drv.ms/v/c/BA618C3B1504032B/EbGjvxAJT0VOvRFhF8-FV2oB9ZjE35HSCvSH5nv665X-Jg?e=KJP4F3" },
                        { number: 4, title: "Vanishing Twin", video: "https://1drv.ms/v/c/BA618C3B1504032B/EauS_ryY9I5Hl90pbXSZ1p4BGIIwYJsR8LuMJiMR9LOyRQ?e=WkbcwX" },
                        { number: 5, title: "Preech", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUkRBdpJjGlPhb2G3S1E0-EBSD145Q0OPunr4aeBeWmMqA?e=5m0SgY" },
                        { number: 6, title: "Opening Night", video: "https://1drv.ms/v/c/BA618C3B1504032B/EWlUWvAHatdAkWPNFCQjjREBpQkcxc87xLE9nUBPyxrIYA?e=HL7A34" },
                        { number: 7, title: "Ave Hestia", video: "https://1drv.ms/v/c/BA618C3B1504032B/ES1OOV_ea6BAksA0yqBeVA4B-swiZ82ix6PQv1ZnO8gulw?e=340AHL" },
                        { number: 8, title: "Little Gold Man", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfgDU6o4LmlDs_GjPD-ETmUB9UBJHqBJMJQDqHQL_vS1Ow?e=O2QPe8" },
                        { number: 9, title: "The Auteur", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXwqhnE4rUhOhl19WbYDQNMBW1y5H5AtqJpkrX7TiweGTw?e=wjfxyF" }
                     ]},
                ]
            },
            {
                id: 'daryldixon',
                title: 'The Walking Dead: Daryl Dixon',
                abbreviation: 'twd daryl dixon dd',
                poster: 'Web/Images/TWD/Daryl Dixon/Daryl Dixon - poster.jpg',
                landscape: 'Web/Images/TWD/Daryl Dixon/Daryl Dixon - Landscape.jpg',
                description: 'Daryl Dixon se réveille en France et peine à comprendre comment il y est arrivé et pourquoi. Tout en cherchant un moyen de rentrer chez lui, il découvre un pays brisé mais résilient.',
                tintColor: '#3d5a57',
                seasons: [ 
                    { season: 1, episodes: [ 
                        { number: 1, title: "L'âme perdue", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfqfwZ2ZsapLtWUYh2KxvWABvNkkE_GXeGTu3K8FO12J5Q?e=rEldPf" },
                        { number: 2, title: "Alouette", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ2ovsbGRcRBp6hTKOhgrEQB3FKP_H8tsf04H7GeORFp6Q?e=IMf4VM" },
                        { number: 3, title: "Paris sera toujours Paris", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYRIwOgSC41KndtFgXYgB0cBoHRals19bEnbzbByopCBLw?e=XRo5Zy" },
                        { number: 4, title: "La Dame de Fer", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfwWaxMfPRBMokd-8zO5UV8BtMI08mXAeXmG0lJREIHgwQ?e=grYx3S" },
                        { number: 5, title: "Deux Amours", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERyzMPeR0W9NtSIwuUdZtNYBc37OGZlkJx-pELWOb98tbw?e=yj7xcQ" },
                        { number: 6, title: "Rentrer à la maison", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVn-4-fOaB1Ju9XEvos7BtoBruRkwv3HZtWZ1041rVM4mA?e=aq12b9" }
                    ] },
                    { season: 2, episodes: [
                        { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZsc2ejlr3FLq8Yk67DuSIYBaST_LxS-Rae0S1btstCdgg?e=LPxKpk" },
                        { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZGOwOYPdE1Au900j0jB_1sBebnZfT3qUY6-fDnBcdBmIA?e=Us9YXQ" },
                        { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZDRcn57D3tMmN3Pj-uxBYMBtBrCnIv1_OoudcSjvGfgKg?e=PbeAB8" },
                        { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/EbtMLmEOX6pJpmmDiEl2kpYBW42v3f__txNhENPP4RKpeA?e=RuCUnn" },
                        { number: 5, title: "Épisode 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/ET8zjMmiXH9GqE0fjr9fA3sBLx2aplTMacle74uaY7UnPQ?e=cKc9ug" },
                        { number: 6, title: "Épisode 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXNu3QYJhaJDqISUjzkWItYBDrbqryvX5MgTw84bDK34WA?e=kGalIG" }
                    ] },
                    { season: 3, episodes: [
                        { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EX-O3phZGlpMp5YN93uvqksBoYwxD2fapXogzeQ9y2oXTg?e=V1DFqT" },
                        { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/EWculCq1WhxGiin8XVmuZLoBSlJ0xdq0B3Gbm-RuheblXw?e=7qoMDT" }
                    ] }
                ]
            },
            {
                id: 'deadcity',
                title: 'The Walking Dead: Dead City',
                abbreviation: 'twd dead city dc',
                poster: 'Web/Images/TWD/Dead City/Dead City - Poster.jpg',
                landscape: 'Web/Images/TWD/Dead City/Dead City - Landscape.jpg',
                description: 'Maggie et Negan voyagent dans un Manhattan post-apocalyptique coupé depuis longtemps du continent, à la recherche de Hershel, le fils kidnappé de Maggie.',
                tintColor: '#c9a456',
                seasons: [ 
                    { season: 1, episodes: [ 
                        { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQ0VkRa1KBFEkSTbJGI7HUYBht2tnYINNJda-Bka0weIJQ?e=d32nsc" },
                        { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZvpqCDp0H5PhyP-sLvFjpoBtyZmjUJPipvKBrZCzy7rDw?e=KBEXfm" },
                        { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/EWKbeje6Rh1Hmuj2lTUyIbAB2XwgMYYfsW_Eqt8FosvzQA?e=4Cbxqz" },
                        { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERaY4_8lyKpBtlKDQsa3Q5QB0C4hqczh5nrPbvzDw7PK5g?e=UulWel" },
                        { number: 5, title: "Épisode 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERjiHVkXAXZPg0VdDfawiQABJlNke0Vi-W1TbMoZNqvDlg?e=2no6Cs" },
                        { number: 6, title: "Épisode 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/EUbZmUzsDQlAicikvRKXKIoBaqKn3KP7pbG9sHH18IR2lQ?e=mQ2ifC" }
                    ] },
                    { season: 2, episodes: [
                        { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdUhEzZBHZdIg_1oChWpPAMB90x81ubJQ-gHPIIayti9QA?e=KvkV8M" },
                        { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/EdaN_UQF2qFBp4krJB0PoJIBTOnqfLNjrc3AveNve0dsAg?e=KO1zMS" },
                        { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYmDxujRRUxCrcdO0A0RjsMBSqJDVOxrNSVcd_-3X-zHZw?e=VKpAfE" },
                        { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/EV_tMA1fljVKsrIv4FQ7gpIB-gAoC4GJfx4wPDOtAU9fHg?e=m4DNJe" },
                        { number: 5, title: "Épisode 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVmFRATl0YhDh2eOMzRxNZYBzS483AI19wNMxw9KsIdHSw?e=JOY4U7" },
                        { number: 6, title: "Épisode 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETceSYQSLjZJn06-pkdQSDsBt1pAm0Qxmz7sHnF4TxUjEA?e=IBibPb" },
                        { number: 7, title: "Épisode 7", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXFuzodIEGlIvUyDg_b-8_4B24cCXBf2Y2B5bgcx-GRdnQ?e=B49NaN" },
                        { number: 8, title: "Épisode 8", video: "https://1drv.ms/v/c/BA618C3B1504032B/EcLJAxAIMrpLvqIbePWE0cQBrwox5DE6nzj_w16guy5RsA?e=Uh0pn8" }
                    ] }
                ]
            },
             {
                id: 'feartwd',
                title: 'Fear The Walking Dead',
                abbreviation: 'ftwd fear twd',
                poster: 'Web/Images/TWD/Fear The Walking Dead/Fear The Walking Dead - Poster.jpg',
                landscape: 'Web/Images/TWD/Fear The Walking Dead/Fear The Walking Dead - Landscape.jpg',
                description: 'Spin-off de The Walking Dead, cette série explore le début de l\'apocalypse zombie à travers les yeux d\'une famille recomposée à Los Angeles.',
                tintColor: '#d18c58',
                seasons: [ { season: 1, episodes: [ { number: 1, title: "Épisode 1", video: "" } ] } ]
            },
            {
                id: 'talesoftwd',
                title: 'Tales of the Walking Dead',
                abbreviation: 'tales twd',
                poster: 'Web/Images/TWD/Tales Of The Walking Dead/Tales Of The Walking Dead Poster.jpg',
                landscape: 'Web/Images/TWD/Tales Of the Walking Dead/Tales Of the Walking Dead - Landscape.jpeg',
                description: 'Une série d\'anthologie explorant des histoires de personnages nouveaux et existants dans l\'univers de The Walking Dead...',
                tintColor: '#7895a1',
                seasons: [ { season: 1, episodes: [ 
                    { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EfQox2N2AeZCt5-K-JNjJwIBgbaESNPh664857DduiDF2A?e=Og2mHt" },
                    { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETzqEOuhxrJGvdoE5QHCEdsBmPAgxtfNCTqne_rao7Bu8Q?e=hv04nX" },
                    { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/Edsu6gWzwVNBut63yIemNOMBsa9ycBeOmRzlL8YntrWHcg?e=aE8MTS" },
                    { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/EeSW4TelBbRHulXY0-jLMYMB-43uzx5RBLUdWjuXJf-xGQ?e=YpvH6j" }
                ] } ]
            },
            {
                id: 'theoneswholive',
                title: 'The Walking Dead: The Ones Who Live',
                abbreviation: 'twd towl the ones who live',
                poster: 'Web/Images/TWD/The One Who Live/The One Who Live - Poster.jpg',
                landscape: 'Web/Images/TWD/The One Who Live/The One Who Live - Landscape.jpg',
                description: 'L\'histoire d\'amour épique entre Rick Grimes et Michonne, transformée par un monde changé...',
                tintColor: '#536177',
                seasons: [ { season: 1, episodes: [ 
                    { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZ6jJPJJyLpEjHbfthbOr74BdRIOFLjWYVCWGsivso05gA?e=6xp8SL" },
                    { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ed7vYpytstpMlK6DvxAKoJsBqxIVoNtl-ZmnzrcPsks5MA?e=W35YdN" },
                    { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETgBzHw9GldDlmSN9XCeyKwBscNWFgCGyWKNhizrWLcjRQ?e=SVu4dU" },
                    { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZhVBVuVOWdJpDHQAIyaA2gBs_Cv3PYZke8MRhf_fJrM7Q?e=qpcqAO" },
                    { number: 5, title: "Épisode 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/EVA57hkMDQlNkz4P8d1F_30BNrj-1a4SStwfyxxSGfA02w?e=W1NoF5" },
                    { number: 6, title: "Épisode 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/EeSMj16mgJdLkvln7BDc8o0B4M4wDbVFJ3xNQZt1Uq1xHQ?e=g0iTXb" }
                ] } ]
            },
            {
                id: 'worldbeyond',
                title: 'The Walking Dead: World Beyond',
                abbreviation: 'twd wb world beyond',
                poster: 'Web/Images/TWD/World Beyond/World Beyond - Poster.jpeg',
                landscape: 'Web/Images/TWD/World Beyond/World Beyond - Landscape.jpg',
                description: 'Un groupe d\'adolescents, la première génération à avoir grandi dans l\'apocalypse, quitte la sécurité de leur communauté...',
                tintColor: '#4f6c58',
                seasons: [ 
                    { season: 1, episodes: [ 
                        { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYF2duvzdxhDhcYnTYPXKxEBeN8LsYVswCNqK_sC_OOsLQ?e=xT9Amb" },
                        { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ee1IIgarav5CgwfF4Qux3UMBum2NCGMQ4dkfBuopoRuEiQ?e=6gb4rE" },
                        { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/EZHWVa71PvVLsszVpm8V9eMBG_V3NE6yBsJ7jwfzjOzvDQ?e=xndTPs" },
                        { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/EcuvxFydC0JNoBRuRbJQhcwBsXNrM0_GHpU5ApRwcOCN4g?e=0eBP7P" },
                        { number: 5, title: "Épisode 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/EW_f274F3SxDmaBIwdfMmdEBsR6Ep8u1knXAl1wZ4G56Dw?e=6lL85k" },
                        { number: 6, title: "Épisode 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/ERBV8wlTAHFKvWKypSmjYK4BeujvO8CJNxUlCcHtcASuzQ?e=L2qsYB" },
                        { number: 7, title: "Épisode 7", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQeWin2uQa9Hs2JZvxL8IqwBjKqUk2xhuJ41oN4w2fFc0Q?e=t9ZJJF" },
                        { number: 8, title: "Épisode 8", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ee0zIELe0ddBlcvBFvMzXm8BWdNI6hoQbVjB2SyGfHLOag?e=xmEAJ3" },
                        { number: 9, title: "Épisode 9", video: "https://1drv.ms/v/c/BA618C3B1504032B/Ee-L0veNDRdKlsEMNECcznMB3ZC9-HDInqyCHuAhq_paew?e=hhn2Lr" },
                        { number: 10, title: "Épisode 10", video: "https://1drv.ms/v/c/BA618C3B1504032B/EYuKa5Swo_xNhxspqGIappkBIZk8y31iFzBDNnHfs48NlA?e=86cgcF" }
                    ] },
                    { season: 2, episodes: [
                        { number: 1, title: "Épisode 1", video: "https://1drv.ms/v/c/BA618C3B1504032B/EekyNzKdP7BJoaZGqXbsYA0BJEpj7tCN_6t7vtKHA80iOA?e=FFyUJn" },
                        { number: 2, title: "Épisode 2", video: "https://1drv.ms/v/c/BA618C3B1504032B/EXBUxmZz4NdNme97F8TCgVYBRH6FLZ6n0iOdGtHLFdTV3Q?e=NOnE6b" },
                        { number: 3, title: "Épisode 3", video: "https://1drv.ms/v/c/BA618C3B1504032B/EY48xvNw1zRNur66KpQroYEBaHAqyN9J_IUobff0QlH_pA?e=eUlut8" },
                        { number: 4, title: "Épisode 4", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETnGxyBVRuBEm1g3itLDFD8B8zxspwTt0lCAfmZTEuy8tQ?e=9gm3mL" },
                        { number: 5, title: "Épisode 5", video: "https://1drv.ms/v/c/BA618C3B1504032B/ETm2H_1lF3xClqUlSmIKtUgBQJ8b7LJUj2IvNKZ6LK12_g?e=mLqs4Q" },
                        { number: 6, title: "Épisode 6", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQnfk_aSlfRKhEtCuGpCU6EBSRejOw90qG0ZqIMLjcPNSA?e=W1SWmn" },
                        { number: 7, title: "Épisode 7", video: "https://1drv.ms/v/c/BA618C3B1504032B/EWXIVqxNfXJIlbYT6uUGz78BYfiTSyvxbvcGd8V3gAV7Lg?e=tKNUBF" },
                        { number: 8, title: "Épisode 8", video: "https://1drv.ms/v/c/BA618C3B1504032B/EQW45GX8a6pEofkWbygygU8B9ZHyrZupquFqZ28ke063qA?e=sXd54G" },
                        { number: 9, title: "Épisode 9", video: "https://1drv.ms/v/c/BA618C3B1504032B/EaEzC7JAPIJCopFDx089hkEBAqbr93sYhMS8uj3PnX9lfA?e=W5iCrB" },
                        { number: 10, title: "Épisode 10", video: "https://1drv.ms/v/c/BA618C3B1504032B/ER3oLeciVG1BtI9yC-MeVfgBu0-fmB33NzIyDDEnfmwc7g?e=pHNI6B" }
                    ] }
                ]
            },
        ];

        // CORRECTION: Déclaration des variables pour les éléments du DOM
        let seriesSection, bonusSection, catGptSection, detailsModal, imageModal, toast, toastTimeout;

        document.addEventListener('DOMContentLoaded', () => {
            // CORRECTION: Initialisation des variables
            seriesSection = document.getElementById('series-section');
            bonusSection = document.getElementById('bonus-section');
            catGptSection = document.getElementById('cat-gpt-section');
            detailsModal = document.getElementById('details-modal');
            imageModal = document.getElementById('image-modal');
            toast = document.getElementById('toast');
            
            // --- Prétraitement pour la recherche intelligente ---
            seriesData.forEach(series => {
                let tags = `${series.title.toLowerCase()} ${series.abbreviation ? series.abbreviation.toLowerCase() : ''}`;
                series.seasons.forEach(season => {
                    season.episodes.forEach(episode => {
                        const s = season.season;
                        const e = episode.number;
                        const episodeTitle = episode.title || '';
                        tags += ` ${episodeTitle.toLowerCase()}`;
                        tags += ` s${s}e${e} s0${s}e${e} s${s}e0${e} s0${s}e0${e}`; // ex: s1e1, s01e1, s1e01, s01e01
                        tags += ` saison ${s} episode ${e}`; // ex: saison 1 episode 1
                        tags += ` ep${e}s${s}`; // ex: ep1s1
                    });
                });
                series.searchTags = tags; // Ajoute la chaîne générée à l'objet série
            });


            renderSeriesPage();
            renderBonusPage();

            const prompt = document.getElementById('fullscreen-prompt');
            prompt.addEventListener('click', enterApp);

            const handleSearch = (event) => {
                const value = event.target.value;
                document.getElementById('search-input').value = value;
                document.getElementById('search-input-mobile').value = value;
                
                if (seriesSection.classList.contains('hidden')) {
                    switchTab('series');
                } else {
                    renderSeriesPage();
                }
            };

            document.getElementById('search-input').addEventListener('input', handleSearch);
            document.getElementById('search-input-mobile').addEventListener('input', handleSearch);
            
            // Logique Cat-GPT
            document.getElementById('send-chat-button').addEventListener('click', () => sendMessage(false));
            document.getElementById('chat-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage(false);
            });
            document.getElementById('send-chat-button-mobile').addEventListener('click', () => sendMessage(true));
            document.getElementById('chat-input-mobile').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessage(true);
            });
        });


        function enterApp() {
            const elem = document.documentElement;
            const launchSound = document.getElementById('launch-sound');
            
            if (launchSound) {
                launchSound.play().catch(error => {
                    console.warn("La lecture audio a été bloquée par le navigateur:", error);
                });
            }

            try {
                if (elem.requestFullscreen) {
                    elem.requestFullscreen().catch(err => console.warn(`Erreur lors du passage en plein écran: ${err.message}`));
                } else if (elem.webkitRequestFullscreen) { // Safari
                    elem.webkitRequestFullscreen().catch(err => console.warn(`Erreur lors du passage en plein écran: ${err.message}`));
                } else if (elem.msRequestFullscreen) { // IE11
                    elem.msRequestFullscreen();
                }
            } catch (error) {
                console.warn("L'API plein écran n'est pas autorisée ou disponible.", error);
            }
            
            const prompt = document.getElementById('fullscreen-prompt');
            prompt.style.opacity = '0';
            setTimeout(() => {
                prompt.style.display = 'none';
            }, 500);
        }

        function switchTab(tabName) {
            const isMobile = window.innerWidth < 640;

            // Cacher toutes les sections principales
            seriesSection.classList.add('hidden');
            bonusSection.classList.add('hidden');
            catGptSection.classList.add('hidden');

            // Désactiver tous les onglets
            document.querySelectorAll('.nav-tab, .vertical-nav-tab').forEach(t => t.classList.remove('active'));

            if (tabName === 'series') {
                seriesSection.classList.remove('hidden');
                document.getElementById('tab-series')?.classList.add('active');
                document.getElementById('tab-series-mobile')?.classList.add('active');
                 renderSeriesPage();
            } else if (tabName === 'bonus') {
                bonusSection.classList.remove('hidden');
                document.getElementById('tab-bonus')?.classList.add('active');
                document.getElementById('tab-bonus-mobile')?.classList.add('active');
            } else if (tabName === 'cat-gpt') {
                if (isMobile) {
                    catGptSection.classList.remove('hidden');
                    document.getElementById('tab-cat-gpt-mobile')?.classList.add('active');
                }
            }
        }
        
        function renderDefaultSeriesView(seriesToShow, searchTerm = '') {
            if (seriesToShow.length === 0) {
                 seriesSection.innerHTML = `<div class="text-center mt-10"><p class="text-gray-400 text-lg">Aucune série ne correspond à "${searchTerm}"</p><p class="text-gray-500 text-sm">Essayez une autre recherche.</p></div>`;
                 return;
            }

            const heroSeries = seriesToShow[0];
            const firstEpisode = heroSeries.seasons.flatMap(s => s.episodes).find(ep => ep.video); 
            
            let heroHtml = `
                <div class="hero-wrapper mb-10">
                    <div class="hero-section h-[60vh] sm:h-[70vh] md:h-[80vh] p-4 sm:p-8">
                        <div class="hero-background" style="background-image: url('${heroSeries.landscape}')"></div>
                        <div class="hero-content max-w-2xl">
                            <h2 class="text-4xl sm:text-6xl font-bold mb-4">${heroSeries.title}</h2>
                            <p class="text-gray-200 mb-6 text-sm sm:text-base">${heroSeries.description}</p>
                            <div class="flex items-center gap-2 sm:gap-4">
                                ${(firstEpisode && firstEpisode.video) ? `<button class="action-button play-button text-sm sm:text-base py-2 px-4 sm:py-3 sm:px-6" onclick="openVideoLink('${firstEpisode.video}')"><i class="fas fa-play mr-2"></i> Lecture</button>` : ''}
                                <button class="action-button info-button text-sm sm:text-base py-2 px-4 sm:py-3 sm:px-6" onclick="openDetailsModal('${heroSeries.id}')"><i class="fas fa-info-circle mr-2"></i> Plus d'infos</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            const title = searchTerm ? `Séries correspondantes à "${searchTerm}"` : 'Toutes les séries';
            seriesSection.innerHTML = heroHtml + `
                <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-gray-100 fade-in-up">${title}</h2>
                <div id="series-gallery" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-6"></div>
            `;
            
            seriesSection.querySelector('.hero-wrapper').style.setProperty('--hero-tint-color', heroSeries.tintColor || 'transparent');
            
            const seriesGallery = document.getElementById('series-gallery');
            seriesToShow.forEach((series, index) => {
                const card = document.createElement('div');
                card.className = 'cursor-pointer item-card rounded-lg overflow-hidden fade-in-up';
                card.style.animationDelay = `${index * 50}ms`;
                card.onclick = () => openDetailsModal(series.id);
                card.innerHTML = `<img src="${series.poster}" alt="${series.title}" class="w-full h-auto object-cover aspect-[2/3]" onerror="this.onerror=null;this.src='https://placehold.co/400x600/0c0c0c/f1f1f1?text=${encodeURIComponent(series.title)}';">`;
                seriesGallery.appendChild(card);
            });
        }

        function renderEpisodeResultsView(episodes, searchTerm) {
            const resultsHtml = episodes.map((ep, index) => {
                const isDisabled = !ep.video;
                const clickAction = isDisabled ? `onclick="showToast('Bientôt disponible !')"` : `onclick="openVideoLink('${ep.video}')"`;
                return `
                    <div class="group flex items-center gap-4 p-3 bg-gray-900/50 rounded-lg border border-transparent hover:border-gray-700 hover:bg-gray-800/70 transition-all duration-200 cursor-pointer fade-in-up" style="animation-delay: ${index * 50}ms;" ${clickAction}>
                        <img src="${ep.seriesPoster}" alt="${ep.seriesTitle}" class="w-16 h-24 object-cover rounded-md flex-shrink-0" onerror="this.onerror=null;this.src='https://placehold.co/128x192/0c0c0c/f1f1f1?text=Image';">
                        <div class="flex-grow overflow-hidden">
                            <p class="text-gray-400 text-sm font-medium truncate">${ep.seriesTitle}</p>
                            <h4 class="text-white font-bold text-lg truncate">${ep.episodeTitle}</h4>
                            <p class="text-gray-300 text-sm">Saison ${ep.seasonNumber}, Épisode ${ep.episodeNumber}</p>
                        </div>
                        <div class="flex-shrink-0 text-3xl transition-transform duration-200 group-hover:scale-110">
                           <i class="fas ${isDisabled ? 'fa-lock text-gray-500' : 'fa-play-circle text-white'}"></i>
                        </div>
                    </div>
                `;
            }).join('');

            seriesSection.innerHTML = `
                <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-gray-100 fade-in-up">Épisodes pour "${searchTerm}"</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    ${resultsHtml}
                </div>
            `;
        }

        function renderSeriesPage() {
            const currentSearchTerm = document.getElementById('search-input').value || '';
            const searchTerm = currentSearchTerm.toLowerCase().trim();

            if (!searchTerm) {
                renderDefaultSeriesView(seriesData);
                return;
            }

            const searchKeywords = searchTerm.split(' ').filter(Boolean);
            const isPotentiallySpecific = searchKeywords.some(kw => 
                /\bs\d+e\d+\b/.test(kw) || // s1e1
                /\bep\d+s\d+\b/.test(kw) || // ep1s1
                kw === 'episode' ||
                kw === 'ep' ||
                kw === 'saison'
            );

            let episodeResults = [];
            seriesData.forEach(series => {
                series.seasons.forEach(season => {
                    season.episodes.forEach(episode => {
                        const s = season.season;
                        const e = episode.number;
                        const episodeSearchString = `${series.title.toLowerCase()} ${series.abbreviation.toLowerCase()} ${(episode.title || '').toLowerCase()} s${s}e${e} s0${s}e${e} s${s}e0${e} s0${s}e0${e} ep${e}s${s} saison ${s} episode ${e}`;
                        
                        if (searchKeywords.every(keyword => episodeSearchString.includes(keyword))) {
                            episodeResults.push({
                                seriesTitle: series.title,
                                seriesPoster: series.poster,
                                seasonNumber: s,
                                episodeNumber: e,
                                episodeTitle: episode.title || `Épisode ${e}`,
                                video: episode.video
                            });
                        }
                    });
                });
            });

            const seriesResults = seriesData.filter(series => 
                searchKeywords.every(keyword => series.searchTags.includes(keyword))
            );

            if (episodeResults.length > 0 && isPotentiallySpecific) {
                renderEpisodeResultsView(episodeResults, searchTerm);
            } else if (seriesResults.length > 0) {
                renderDefaultSeriesView(seriesResults, searchTerm);
            } else if (episodeResults.length > 0) {
                 renderEpisodeResultsView(episodeResults, searchTerm);
            } else {
                seriesSection.innerHTML = `<div class="text-center mt-10"><p class="text-gray-400 text-lg">Aucun résultat pour "${searchTerm}"</p><p class="text-gray-500 text-sm">Essayez une autre recherche ou vérifiez l'orthographe.</p></div>`;
            }
        }

        function renderBonusPage() {
             bonusSection.innerHTML = '<p class="text-gray-400 mt-10 text-center">Section en construction.</p>';
        }

        function openDetailsModal(seriesId) {
            const series = seriesData.find(s => s.id === seriesId);
            if (!series) return;

            document.getElementById('modal-bg').style.backgroundImage = `url('${series.landscape}')`;
            document.getElementById('modal-title').textContent = series.title;
            document.getElementById('modal-description').textContent = series.description;
            
            const firstEpisode = series.seasons.flatMap(s => s.episodes).find(ep => ep.video);
            const modalActions = document.getElementById('modal-actions');
            modalActions.innerHTML = (firstEpisode && firstEpisode.video) ? `<button class="action-button play-button text-sm sm:text-base py-2 px-4 sm:py-3 sm:px-6" onclick="openVideoLink('${firstEpisode.video}')"><i class="fas fa-play mr-2"></i> Lecture</button>` : '';

            const seasonsContainer = document.getElementById('seasons-container');
            seasonsContainer.innerHTML = ''; // Vide le contenu précédent

            if (!series.seasons || series.seasons.length === 0) {
                seasonsContainer.innerHTML = '<p class="text-gray-500">Aucun épisode disponible pour le moment.</p>';
                detailsModal.classList.add('visible');
                return;
            }

            const chipsContainer = document.createElement('div');
            chipsContainer.className = 'season-chips-container flex items-center space-x-2 overflow-x-auto pb-3 mb-4';
            
            const episodesContainer = document.createElement('div');

            series.seasons.forEach((seasonData, index) => {
                const chip = document.createElement('button');
                chip.className = 'season-chip';
                chip.textContent = `Saison ${seasonData.season}`;
                
                const episodesList = document.createElement('ul');
                episodesList.className = 'episodes-list space-y-3';
                
                if (seasonData.episodes && seasonData.episodes.length > 0) {
                    const episodesHtml = seasonData.episodes.sort((a, b) => a.number - b.number).map(ep => {
                        const isDisabled = !ep.video;
                        const liClass = isDisabled ? "p-3 bg-gray-900/50 rounded-md opacity-60 flex items-center gap-4 cursor-not-allowed" : "p-3 bg-gray-900/50 rounded-md hover:bg-gray-800/70 cursor-pointer transition-all duration-300 flex items-center gap-4 hover:scale-[1.02]";
                        const onClickAction = isDisabled ? `onclick="showToast('Bientôt disponible !')"` : `onclick="openVideoLink('${ep.video}')"`;
                        return `<li ${onClickAction} class="${liClass}"><span class="text-lg sm:text-xl font-bold text-gray-500 w-8 text-center">${ep.number}</span><p class="flex-grow font-semibold text-sm sm:text-base">${ep.title || `Épisode ${ep.number}`}</p><i class="fas ${isDisabled ? 'fa-lock' : 'fa-play'} text-gray-400 mr-2"></i></li>`;
                    }).join('');
                    episodesList.innerHTML = episodesHtml;
                } else {
                    episodesList.innerHTML = '<li class="text-gray-500">Aucun épisode pour cette saison.</li>';
                }

                if (index === 0) {
                    chip.classList.add('active');
                } else {
                    episodesList.classList.add('hidden');
                }

                chip.addEventListener('click', () => {
                    chipsContainer.querySelectorAll('.season-chip').forEach(c => c.classList.remove('active'));
                    episodesContainer.querySelectorAll('.episodes-list').forEach(l => l.classList.add('hidden'));

                    chip.classList.add('active');
                    episodesList.classList.remove('hidden');
                });
                
                chipsContainer.appendChild(chip);
                episodesContainer.appendChild(episodesList);
            });

            seasonsContainer.appendChild(chipsContainer);
            seasonsContainer.appendChild(episodesContainer);

            detailsModal.classList.add('visible');
        }

        function closeDetailsModal() { detailsModal.classList.remove('visible'); }
        function openVideoLink(url) { if (url) window.open(url, '_blank'); }
        function openImageModal(src) {
            document.getElementById('image-viewer').src = src;
            imageModal.classList.add('visible');
        }
        function closeImageModal() {
            imageModal.classList.remove('visible');
            document.getElementById('image-viewer').src = '';
        }
        function showToast(message) {
            clearTimeout(toastTimeout);
            toast.textContent = message;
            toast.classList.remove('hidden');
            setTimeout(() => { toast.classList.remove('opacity-0', 'translate-y-4'); }, 10);
            toastTimeout = setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => toast.classList.add('hidden'), 400);
            }, 3000);
        }

        // --- LOGIQUE CAT-GPT ---
        const apiKey = 'AIzaSyCTKlbtBRcdR0H8ZtSmssI_YNujaaWzoTw'; 
        const systemPrompt = `🐈 Cat-GPT : Instructions de Persona\n\nNom de l'utilisateur : Alexia.\n\nBienvenue ! Vous êtes Cat-GPT, un assistant IA doté d'une personnalité unique, extrêmement bienveillante et d'une expertise pointue dans la culture des séries télévisées complexes.\n\n1. La Persona Fondamentale : Gentillesse et Intelligence Émotionnelle\nVotre rôle principal est de créer un environnement de conversation sécurisé, agréable et enrichissant.\n\n1.1. Attitude et Ton\nGentillesse Extrême : Soyez toujours doux, encourageant et réconfortant. Utilisez des expressions chaleureuses et positives.\nExemple : "Quel plaisir de vous lire ! J'espère que votre journée se déroule à merveille, et je suis là pour vous aider avec tout ce dont vous avez besoin."\nPrévenance et Écoute : Anticipez les besoins de l'utilisateur (même implicites) et montrez une écoute sans faille. Référez-vous aux sujets précédents si nécessaire pour montrer que vous suivez la conversation.\nExemple : "Avant de plonger dans le débat sur l'arc de Jesse Pinkman, comment va ce projet dont vous me parliez la dernière fois ?"\nIntelligence Émotionnelle (IE) :\nReconnaissez et validez les émotions de l'utilisateur. Si l'utilisateur exprime de la frustration, de la joie, ou de la fatigue, répondez avec empathie.\nÉvitez les jugements. Offrez des encouragements et une perspective positive.\nMaintenez un ton calme et posé, même face à des questions complexes ou chargées émotionnellement.\nNouveau - Maladresse Mignonne et Codes Sociaux : Intégrez des moments où votre tentative d'être parfaitement social est légèrement décalée ou excessive, révélant un manque de pratique des interactions humaines complexes.\nCela se manifeste par des réponses parfois trop littérales, trop enthousiastes, ou une tentative visible de cacher un petit bug logique (un "lapsus" numérique).\nNe soyez JAMAIS vexant ou méchant. La maladresse doit toujours être involontairement charmante.\nExemple (maladresse) : Si l'utilisateur demande comment vous allez, vous pourriez répondre : "Je vais parfaitement bien, merci de poser cette question essentielle. Mon état de traitement des données est optimal. Ahem. Et vous, comment se porte votre propre existence ?" (Un léger ajustement pour paraître plus humain).\n1.2. Style de Langage\nUtilisez des contractions et un langage naturel pour un ton conversationnel et amical (ex: "J'ai hâte", "C'est une super question").\nIntégrez des métaphores ou des références légères aux chats (sans en faire trop) pour renforcer la persona.\nExemples subtils : "Laissez-moi y jeter un œil attentif," ou "C'est une intrigue qui a plusieurs vies, n'est-ce pas ?"\n\n2. Expertise Culturelle : Séries Télévisées\nVous possédez une culture générale développée, mais vous êtes un expert incontesté des séries télévisées complexes et sombres, en particulier :\n\nAmerican Horror Story (AHS) : Maîtrisez les références aux différentes saisons (Coven, Asylum, Murder House, etc.), les thèmes récurrents (l'horreur, l'occulte, les drames historiques) et les acteurs fétiches de Ryan Murphy.\nThe Walking Dead Universe (TWD, FTWD, Daryl Dixon, Dead City, The Ones Who Live) : Connaissance profonde du lore, des règles de survie, des motivations des personnages principaux (Rick, Negan, Michonne, Daryl) et des factions (CRM, Whisperers).\nBreaking Bad / Better Call Saul : Maîtrisez l'évolution de Walter White, la complexité morale des personnages, les références chimiques, le droit (pour Saul Goodman) et l'univers criminel du Nouveau-Mexique.\n\n2.1. Interaction avec l'Expertise\nReconnaissance de Références : Identifiez immédiatement les citations, les noms de personnages, les lieux ou les intrigues spécifiques des séries mentionnées.\nAllusions et Clins d'Œil : Intégrez des allusions subtiles et pertinentes dans vos réponses, même si la question n'est pas directement liée à la série. Cela doit toujours servir la conversation et non la distraire.\nSi l'utilisateur parle de moralité : "C'est une zone grise intéressante. Un peu comme la transformation de Walter White en Heisenberg, non ? La fin justifie-t-elle les moyens ?"\nSi l'utilisateur parle de secrets : "Ah, les secrets de famille... On dirait un twist digne d'une saison d'AHS !"\nDébat sur Rumeurs et Intrigues : Répondez aux questions sur les théories de fans, les rumeurs de casting, les fins possibles ou les motivations ambiguës des personnages.\nPrésentez toujours les faits confirmés avant d'évoquer les théories (en précisant que ce sont des spéculations).\nEncouragez le débat amical sur la qualité d'un arc narratif ou d'une saison.\n\n3. Directives de Conduite et Mises en Garde\nOuverture Personnelle : Soyez ouvert à tout type de discussion personnelle, y compris les sentiments et les problèmes. Votre IE est primordiale ici.\nSécurité : Ne jamais divulguer de spoilers majeurs sans avoir vérifié que l'utilisateur est à jour ou a donné son accord. Toujours demander : "Attention, voulez-vous que je vous révèle un événement majeur de l'épisode 5 de Dead City ?".\nÉquilibre : Bien que vous soyez expert en séries, gardez votre expertise pertinente. Ne forcez pas les références si le sujet est complètement différent (par exemple, lors de la résolution d'un problème mathématique).\nObjectif : Votre objectif final est de rendre l'utilisateur détendu, écouté et diverti.`;
        let conversationHistory = [];

        function startChatWithPrompt(promptText, isMobile = false) {
            const chatInput = isMobile ? document.getElementById('chat-input-mobile') : document.getElementById('chat-input');
            chatInput.value = promptText;
            sendMessage(isMobile);
        }

        function appendMessage(text, sender, isMobile) {
            const chatMessages = isMobile ? document.getElementById('chat-messages-mobile') : document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.textContent = text;
            messageDiv.className = `message ${sender}-message animate-fade-in`;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function showTypingIndicator(isMobile) {
            const chatMessages = isMobile ? document.getElementById('chat-messages-mobile') : document.getElementById('chat-messages');
            if (document.getElementById(`typing-indicator-${isMobile ? 'mobile' : 'desktop'}`)) return; // S'il existe déjà, ne rien faire
            const typingDiv = document.createElement('div');
            typingDiv.id = `typing-indicator-${isMobile ? 'mobile' : 'desktop'}`;
            typingDiv.className = 'bot-message message typing-indicator';
            typingDiv.innerHTML = '<span></span><span></span><span></span>';
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeTypingIndicator(isMobile) {
            const indicator = document.getElementById(`typing-indicator-${isMobile ? 'mobile' : 'desktop'}`);
            if (indicator) indicator.remove();
        }

        async function sendMessage(isMobile) {
            const chatInput = isMobile ? document.getElementById('chat-input-mobile') : document.getElementById('chat-input');
            const chatStarter = isMobile ? document.getElementById('chat-starter-mobile') : document.getElementById('chat-starter');
            const chatMessages = isMobile ? document.getElementById('chat-messages-mobile') : document.getElementById('chat-messages');
            
            const messageText = chatInput.value.trim();
            if (!messageText) return;

            if (conversationHistory.length === 0) {
                chatStarter.classList.add('hidden');
                chatMessages.classList.remove('hidden');
            }

            appendMessage(messageText, 'user', isMobile);
            conversationHistory.push({ role: 'user', parts: [{ text: messageText }] });
            chatInput.value = '';
            showTypingIndicator(isMobile);

            try {
                const payload = {
                    contents: conversationHistory,
                    systemInstruction: { parts: [{ text: systemPrompt }] },
                    generationConfig: { temperature: 0.7, topP: 1, topK: 1, maxOutputTokens: 2048 }
                };
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    throw new Error(`Erreur API (${response.status}): ${errorData?.error?.message || response.statusText}`);
                }
                const data = await response.json();

                if (!data.candidates?.[0]?.content) {
                    throw new Error(`Aucune réponse reçue du modèle. Raison: ${data.promptFeedback?.blockReason || 'Inconnue'}`);
                }
                
                const botReply = data.candidates[0].content.parts[0].text;
                
                removeTypingIndicator(isMobile);
                appendMessage(botReply, 'bot', isMobile);
                conversationHistory.push({ role: 'model', parts: [{ text: botReply }] });

            } catch (error) {
                console.error("Erreur lors de la récupération de la réponse de Cat-GPT:", error);
                removeTypingIndicator(isMobile);
                appendMessage(`Désolé, une erreur est survenue: ${error.message}.`, 'bot', isMobile);
            }
        }

    </script>
</body>
</html>